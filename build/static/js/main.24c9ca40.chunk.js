(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){},12:function(e,t,a){},13:function(e,t,a){},21:function(e,t,a){e.exports=a(50)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),l=(a(27),a(1)),o=a(2),s=a(4),m=a(3),u=a(5),p=(a(10),a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleQueryStringChange=function(e){a.setState({query:e.target.value})},a.handleSearch=function(e){e.preventDefault(),console.log("Fetch weather data for:",a.state.query),a.props.searchSubmit(a.state.query)},a.state={query:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{onSubmit:this.handleSearch},r.a.createElement("input",{type:"text",value:this.state.query,name:"searchBox",id:"searchBox",placeholder:"Enter City or Zipcode",onChange:this.handleQueryStringChange}),r.a.createElement("span",{className:"search-button fa fa-search",onClick:this.handleSearch})))}}]),t}(n.Component)),d=(a(29),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).changeUnit=function(e){var t=e.target.textContent;a.props.onUnitChange(t)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"unit-container"},r.a.createElement("span",{className:"unit-value ".concat("C"===this.props.unit?"active-unit":""),onClick:this.changeUnit},"C"),r.a.createElement("span",{className:"unit-value ".concat("F"===this.props.unit?"active-unit":""),onClick:this.changeUnit},"F"))}}]),t}(n.Component)),h=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).sendNewUnitToParent=function(e){a.props.changeUnit(e)},a.sendQueryStringToParent=function(e){a.props.searchSubmit(e)},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"navbar-container"},r.a.createElement("li",{className:"navbar-list-item"},r.a.createElement(p,{searchSubmit:this.sendQueryStringToParent})),r.a.createElement("li",{className:"navbar-list-item city-name"},r.a.createElement("span",null,this.props.data.city)),r.a.createElement("li",{className:"navbar-list-item"},r.a.createElement(d,{unit:this.props.unit,onUnitChange:this.sendNewUnitToParent}))))}}]),t}(n.Component),f=(a(11),[300,301,302,310,311,313,314,321,500,501,502,503,504,511,520,521,522,531,611,612,615,616,620,701]),E=[210,211,212,221,731,761,762,800],y=[200,201,202,230,231,232,600,601,602,621,622,711,721,741,771,781,801,802,803,804],v=function(e){var t=function(e,t){return e.indexOf(t)>-1};return t(f,e)?"wi-blue":t(E,e)?"wi-yellow":t(y,e)?"wi-gray":"wi-blue"},g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.day,a=e.date,n=e.weatherId,c=e.description,i=e.mainTemperature,l=e.minTemperature,o=e.maxTemperature,s=e.pressure,m=e.humidity,u=e.windSpeed,p=this.props.unit,d=v(n),h="C"===p?"m/s":"miles/hr";return r.a.createElement("div",{className:"today-component-container"},r.a.createElement("div",{className:"date-container"},r.a.createElement("div",null,t),r.a.createElement("div",null,a)),r.a.createElement("div",{className:"icon-desc-container"},r.a.createElement("div",{className:"icon-conatainer"},r.a.createElement("i",{className:"wi wi-owm-".concat(n," weather-icon ").concat(d)})),r.a.createElement("div",{className:"weather-desc"},c)),r.a.createElement("div",{className:"temp-container"},r.a.createElement("div",{className:"temp-text"},r.a.createElement("span",null,i),r.a.createElement("i",{className:"wi wi-degrees"})),r.a.createElement("div",{className:"high-low-container"},r.a.createElement("div",{className:"high-low-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-direction-up"})),r.a.createElement("span",null,"Max"),r.a.createElement("span",null,r.a.createElement("span",null,o,"\xb0"))),r.a.createElement("div",{className:"high-low-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-direction-down"})),r.a.createElement("span",null,"Min"),r.a.createElement("span",null,r.a.createElement("span",null,l,"\xb0"))))),r.a.createElement("div",{className:"extra-info-container"},r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-humidity"})),r.a.createElement("span",null,"Humidity"),r.a.createElement("span",null,m,"%")),r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-barometer"})),r.a.createElement("span",null,"Pressure"),r.a.createElement("span",null,s," hPa")),r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-strong-wind"})),r.a.createElement("span",null,"Wind Speed"),r.a.createElement("span",null,u," ",h))))}}]),t}(n.Component),b=(a(12),function(e){var t=e.data,a=t.day,n=t.weatherId,c=t.description,i=t.mainTemperature,l=v(n);return r.a.createElement("div",{className:"single-list-item"},r.a.createElement("div",{className:"li-info-container"},r.a.createElement("div",{className:"li-day"},a),r.a.createElement("div",{className:"li-temp-text"},i,"\xb0"),r.a.createElement("div",{className:"li-desc"},c)),r.a.createElement("div",{className:"li-weather-icon"},r.a.createElement("i",{className:"wi wi-owm-".concat(n," ").concat(l)})))}),w=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.map(function(e){return r.a.createElement(b,{key:e.day,data:e})});return r.a.createElement("div",{className:"list-container"},e)}}]),t}(n.Component),N=a(7),C=(a(13),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"graph-container"},r.a.createElement("div",{className:"graph-info"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement("span",null,"Temperature variation over 7 days"),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-arrow-right"}))),r.a.createElement("div",{className:"graph"},r.a.createElement(N.Sparklines,{data:this.props.data},r.a.createElement(N.SparklinesLine,{color:"orange"}),r.a.createElement(N.SparklinesSpots,{style:{fill:"#ffffff"}}))))}}]),t}(n.Component)),S=a(20),O=a.n(S),j=(a(49),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onUnitChange=function(e){a.setState({unit:e},a.notifyStateChange)},a.onSearchSubmit=function(e){a.setState({queryString:e,latLng:[]},a.notifyStateChange)},a.notifyStateChange=function(){var e=a.state.latLng.length>0,t=""!==a.state.queryString;(e||t)&&a.fetchWeatherForecast(e).then(function(e){var t=a.extractDataForNavbar(e),n=a.extractDataForTodayComponent(e),r=a.extractDataForListAndGraphComponent(e),c=r.listComponentData,i=r.graphComponentData;a.setState({navbarData:t,todayComponentData:n,listComponentData:c,graphComponentData:i})}).catch(function(e){console.log("Error:",e)})},a.fetchWeatherForecast=function(e){var t=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"q=".concat(a.state.queryString),n="C"===a.state.unit?"metric":"imperial",r="".concat("https://api.openweathermap.org/data/2.5/forecast/daily","?").concat(t,"&units=").concat(n,"&cnt=7&appid=").concat("789c7a808690dc32dbf1324ad4b2e1e3");return O.a.get(r).then(function(e){return e.data}).catch(function(e){console.log("Error:",e)})},a.extractDataForNavbar=function(e){return{city:"".concat(e.city.name,", ").concat(e.city.country)}},a.extractDataForTodayComponent=function(e){var t=e.list[0],n=new Date(1e3*t.dt),r=a.getDay(n),c="".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]," ").concat(n.getDate(),", ").concat(n.getFullYear()),i=t.weather[0].id,l=t.weather[0].description,o=(new Date).getHours(),s=o>6&&o<20?t.temp.day:t.temp.night;return{day:r,date:c,weatherId:i,description:l,mainTemperature:s=Math.round(s),minTemperature:Math.round(t.temp.min),maxTemperature:Math.round(t.temp.max),pressure:t.pressure,humidity:t.humidity,windSpeed:t.speed}},a.extractDataForListAndGraphComponent=function(e){var t=[],n=[];return e.list.forEach(function(e){var r={};r.day=a.getDay(1e3*e.dt),r.weatherId=e.weather[0].id,r.description=e.weather[0].description,r.mainTemperature=Math.round(e.temp.day),t.push(r),n.push(e.temp.day)}),t.shift(),{listComponentData:t,graphComponentData:n}},a.getDay=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday ","Friday","Saturday"][new Date(e).getDay()]},a.state={unit:"C",queryString:"",latLng:[],navbarData:{},todayComponentData:{},listComponentData:[],graphComponentData:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=navigator.geolocation;t?t.getCurrentPosition(function(t){e.setState({latLng:[t.coords.latitude,t.coords.longitude]},e.notifyStateChange)},function(){console.log("Permission Denied")}):console.log("GeoLocation not supported...Update the browser fella")}},{key:"render",value:function(){var e=this.state.latLng.length>0,t=""!==this.state.queryString,a=e||t,n=r.a.createElement("div",{className:"app-instruction"},r.a.createElement("p",null,"Allow Location Access or type city name/zip code in search area to get started.")),c=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-today"},r.a.createElement(g,{data:this.state.todayComponentData,unit:this.state.unit})),r.a.createElement("div",{className:"app-list-graph"},r.a.createElement(w,{data:this.state.listComponentData}),r.a.createElement(C,{data:this.state.graphComponentData})));return r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"app-nav"},r.a.createElement(h,{searchSubmit:this.onSearchSubmit,changeUnit:this.onUnitChange,unit:this.state.unit,data:this.state.navbarData})),a?c:n)}}]),t}(n.Component)),D=document.getElementById("root");i.a.render(r.a.createElement(j,null),D)}},[[21,1,2]]]);
//# sourceMappingURL=main.24c9ca40.chunk.js.map